<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>codetestdeploy</title>

<style>
:root {
    --bg:#ffffff;
    --panel:#020617;
    --text:#e5e7eb;
    --accent:#38bdf8;
}

body{
    margin:0;
    font-family:system-ui;
    background:var(--bg);
    color:var(--text);
    height:100vh;
    display:flex;
    flex-direction:column
}

header{
    background:var(--panel);
    padding:14px 18px;
    font-size:20px
}

.container{
    flex:1;
    display:flex;
    overflow:hidden
}

.sidebar{
    width:260px;
    background:#020617;
    overflow-y:auto
}

.tree-item{
    padding:10px;
    cursor:pointer;
    border-radius:6px
}

.tree-item:hover{
    background:#1e293b
}

.tree-item.active{
    background:var(--accent);
    color:#000
}

.tree-children{
    margin-left:16px;
    display:none
}

.tree-children.open{
    display:block
}

.content{
    flex:1;
    display:flex;
    flex-direction:column;
    background: transparent;
}

.breadcrumb{
    font-size:14px;
    color:#94a3b8;
    padding:12px 20px;
    border-bottom:1px solid #1e293b
}

#contentFrame{
    flex:1;
    width:100%;
    border:none;
    background: transparent;
}

/* ===== HEADER LAYOUT ===== */

.top-header {
    background: var(--panel);
    display: flex;
    flex-direction: column;
}

/* Banner Placeholder */
.banner {
    padding: 16px 20px;
    border-bottom: 1px solid #1e293b;
}

.banner-placeholder {
    background: #1e293b;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    font-size: 18px;
    color: var(--accent);
}

/* ===== MENU BAR ===== */

.menu-bar {
    background: #0f172a;
    padding: 0 20px;
}

.menu {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
}

.menu-item {
    position: relative;
    padding: 14px 18px;
    cursor: pointer;
    font-size: 15px;
}

.menu-item:hover {
    background: #1e293b;
}

/* Submenu */

.submenu {
    position: absolute;
    top: 100%;
    left: 0;
    background: #1e293b;
    list-style: none;
    padding: 8px 0;
    margin: 0;
    min-width: 180px;
    display: none;
    border-radius: 6px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
}

.submenu li {
    padding: 10px 14px;
    cursor: pointer;
}

.submenu li:hover {
    background: var(--accent);
    color: #000;
}

/* Show submenu on hover */
.has-submenu:hover .submenu {
    display: block;
}

</style>
</head>

<body>
<header class="top-header">
    <div class="banner">
        <!-- Heading Banner Placeholder -->
        <div class="banner-placeholder">
             codetestdeploy
        </div>
    </div>

    <!-- Menu Bar Placeholder -->
    <nav class="menu-bar">
        <ul class="menu">
            <li class="menu-item" onclick="loadHiddenHome()">
                Home
            </li>

            <li class="menu-item has-submenu">
                Documents
                <!--<ul class="submenu">
                    <li onclick="loadPageDirectly('pages/html/advanced-parallel-calculator.html')">Test Automation Strategy</li>
                    <li>Test Automation Plan</li>
                    <li>Test Strategy</li>
                    <li>Test Plan</li>
                </ul>-->
            </li>

            <li class="menu-item has-submenu">
                Tools
                <!--<ul class="submenu">
                    <li>Screenshot</li>
                    <li>(EN/DE) Crypt</li>
                </ul>-->
            </li>

            <!--<li class="menu-item">
                Contact
            </li>-->
        </ul>
    </nav>
</header>


<div class="container">
    <nav class="sidebar" id="sidebar"></nav>

    <main class="content">
        <div class="breadcrumb" id="breadcrumb">Home</div>
        <iframe id="contentFrame"></iframe>
    </main>
</div>

<script>
fetch('pages/manifest.json?v=' + Date.now())
    .then(r => r.json())
    .then(d => {
        buildTree(d, document.getElementById('sidebar'));
        loadHiddenHome();
    });

function buildTree(obj, container, path = []) {
    const ul = document.createElement('ul');

    Object.entries(obj).forEach(([k, v]) => {
        const li = document.createElement('li');

        if (typeof v === 'string') {
            const d = document.createElement('div');
            d.className = 'tree-item';
            d.textContent = 'ðŸ“„ ' + k;
            d.onclick = () => loadPage(d, 'pages/' + v, [...path, k]);
            li.appendChild(d);
        } else {
            const d = document.createElement('div');
            d.className = 'tree-item';
            d.textContent = 'ðŸ“ ' + k;
            li.appendChild(d);

            const c = buildTree(v, li, [...path, k]);
            c.classList.add('tree-children');

            d.onclick = () => c.classList.toggle('open');
            li.appendChild(c);
        }

        ul.appendChild(li);
    });

    container.appendChild(ul);
    return ul;
}

function loadPage(el, page, crumbs) {
    document.querySelectorAll('.tree-item')
        .forEach(i => i.classList.remove('active'));
    el.classList.add('active');

    document.getElementById('breadcrumb').textContent = crumbs.join(' / ');
    document.getElementById('contentFrame').src = page;
}

function loadPageDirectly( page) {
    document.getElementById('contentFrame').src = page;
}

function loadHiddenHome() {
    document.getElementById('breadcrumb').textContent = 'Home';
    document.getElementById('contentFrame').src = 'pages/home.html';
}
</script>
</body>
</html>

